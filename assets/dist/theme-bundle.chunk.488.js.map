{"version":3,"file":"theme-bundle.chunk.488.js","mappings":"2TAEwD,IAEnCA,EAAO,SAAAC,GAAA,SAAAD,IAAA,OAAAC,EAAAC,MAAA,KAAAC,YAAA,K,QAYvB,O,EAZuBF,G,EAAAD,G,sEAAAA,EAAAI,UACxBC,QAAA,WAAU,IAAAC,EAAA,MACNC,EAAAA,EAAAA,GAAgBC,KAAKC,SAErB,IAAMC,EAAUF,KAAKC,QAAQE,qBAE7BC,EAAE,QAAQC,GAAG,QAAS,4BAA4B,SAAAC,GAC1CR,EAAKG,QAAQM,YAAYC,QAAU,KACnCC,EAAAA,EAAAA,IAAeP,GACfI,EAAMI,iBAEd,GACJ,EAAClB,CAAA,CAZuB,CAASmB,EAAAA,E,6DCUrC,SAASC,EAAiBC,EAASC,EAAOC,GAClCF,EAAQL,OAAS,GACZM,EAAME,GAAG,YACVF,EAAMG,SAAS,QAEnBH,EAAMI,KAAK,OAAWH,EAAKI,QAAO,IAAIN,EAAQO,KAAK,MACnDN,EAAMO,KAAK,kBAAkBC,KAAKT,EAAQL,SAE1CM,EAAMS,YAAY,OAE1B,CAEe,SAAS,EAATC,GAAsC,IAA1BC,EAAgBD,EAAhBC,iBAAkBV,EAAIS,EAAJT,KACrCW,EAAiB,GAEfC,EAAevB,EAAE,uBAEvBA,EAAE,QAAQC,GAAG,gBAAgB,WACzB,IAAMuB,EAAWxB,EAAE,QAAQiB,KAAK,oCAGhCT,EADAc,EAAiBE,EAASpB,OAASoB,EAASC,KAAI,SAACC,EAAOC,GAAO,OAAKA,EAAQC,KAAK,IAAEC,MAAQ,GAC1DN,EAAcZ,EACnD,IAEAX,EAAE,QAAQ8B,eAAe,gBAEzB9B,EAAE,QAAQC,GAAG,QAAS,qBAAqB,SAAAC,GACvC,IA/B2B6B,EA+BrBC,EAAU9B,EAAM+B,cAAcL,MAC9BM,EAAsBlC,EAAE,uBAE1BE,EAAM+B,cAAcE,SAlCGJ,EAmCUC,EAAhBV,EAlCjBc,KAAKL,IATjB,SAA0BtB,EAASsB,GAC/B,IAAML,EAAQjB,EAAQ4B,QAAQN,GAE1BL,GAAS,GACTjB,EAAQ6B,OAAOZ,EAAO,EAE9B,CAuCYa,CAAiBjB,EAAgBU,GAGrCxB,EAAiBc,EAAgBY,EAAqBvB,EAC1D,IAEAX,EAAE,QAAQC,GAAG,SAAU,0BAA0B,SAAAC,GAC/BF,EAAEE,EAAM+B,eACUhB,KAAK,oCAEfb,QAAU,KAC5BC,EAAAA,EAAAA,IAAegB,GACfnB,EAAMI,iBAEd,IAEAN,EAAE,QAAQC,GAAG,QAAS,uBAAuB,WAGzC,GAF6BD,EAAE,QAAQiB,KAAK,oCAEnBb,QAAU,EAE/B,OADAC,EAAAA,EAAAA,IAAegB,IACR,CAEf,GACJ,C","sources":["webpack://bigcommerce-hera/./assets/js/theme/compare.js","webpack://bigcommerce-hera/./assets/js/theme/global/compare-products.js"],"sourcesContent":["import PageManager from './page-manager';\nimport { showAlertModal } from './global/modal';\nimport compareProducts from './global/compare-products';\n\nexport default class Compare extends PageManager {\n    onReady() {\n        compareProducts(this.context);\n\n        const message = this.context.compareRemoveMessage;\n\n        $('body').on('click', '[data-comparison-remove]', event => {\n            if (this.context.comparisons.length <= 2) {\n                showAlertModal(message);\n                event.preventDefault();\n            }\n        });\n    }\n}\n","import { showAlertModal } from './modal';\n\nfunction decrementCounter(counter, item) {\n    const index = counter.indexOf(item);\n\n    if (index > -1) {\n        counter.splice(index, 1);\n    }\n}\n\nfunction incrementCounter(counter, item) {\n    counter.push(item);\n}\n\nfunction updateCounterNav(counter, $link, urls) {\n    if (counter.length > 1) {\n        if (!$link.is('visible')) {\n            $link.addClass('show');\n        }\n        $link.attr('href', `${urls.compare}/${counter.join('/')}`);\n        $link.find('span.countPill').html(counter.length);\n    } else {\n        $link.removeClass('show');\n    }\n}\n\nexport default function ({ noCompareMessage, urls }) {\n    let compareCounter = [];\n\n    const $compareLink = $('a[data-compare-nav]');\n\n    $('body').on('compareReset', () => {\n        const $checked = $('body').find('input[name=\"products\\[\\]\"]:checked');\n\n        compareCounter = $checked.length ? $checked.map((index, element) => element.value).get() : [];\n        updateCounterNav(compareCounter, $compareLink, urls);\n    });\n\n    $('body').triggerHandler('compareReset');\n\n    $('body').on('click', '[data-compare-id]', event => {\n        const product = event.currentTarget.value;\n        const $clickedCompareLink = $('a[data-compare-nav]');\n\n        if (event.currentTarget.checked) {\n            incrementCounter(compareCounter, product);\n        } else {\n            decrementCounter(compareCounter, product);\n        }\n\n        updateCounterNav(compareCounter, $clickedCompareLink, urls);\n    });\n\n    $('body').on('submit', '[data-product-compare]', event => {\n        const $this = $(event.currentTarget);\n        const productsToCompare = $this.find('input[name=\"products\\[\\]\"]:checked');\n\n        if (productsToCompare.length <= 1) {\n            showAlertModal(noCompareMessage);\n            event.preventDefault();\n        }\n    });\n\n    $('body').on('click', 'a[data-compare-nav]', () => {\n        const $clickedCheckedInput = $('body').find('input[name=\"products\\[\\]\"]:checked');\n\n        if ($clickedCheckedInput.length <= 1) {\n            showAlertModal(noCompareMessage);\n            return false;\n        }\n    });\n}\n"],"names":["Compare","_PageManager","apply","arguments","prototype","onReady","_this","compareProducts","this","context","message","compareRemoveMessage","$","on","event","comparisons","length","showAlertModal","preventDefault","PageManager","updateCounterNav","counter","$link","urls","is","addClass","attr","compare","join","find","html","removeClass","_ref","noCompareMessage","compareCounter","$compareLink","$checked","map","index","element","value","get","triggerHandler","item","product","currentTarget","$clickedCompareLink","checked","push","indexOf","splice","decrementCounter"],"sourceRoot":""}